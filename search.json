[{"path":"https://skent259.github.io/rsmatch/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Sean Kent, Mitchell Paukner Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://skent259.github.io/rsmatch/articles/risk-set-matching-with-rsmatch.html","id":"time-varying-matching","dir":"Articles","previous_headings":"","what":"Time-varying matching","title":"Risk Set Matching with rsmatch","text":"time handling observational data (opposed randomized study) trying measure effect treatment, bias can potentially confound estimates—undermining analysis. reduce bias, matching attempts find groups similar across measured variables, despite receiving alternate sides treatment. Matching requires special care treatment(s) (related matching variables) happen multiple multiple times, longitudinal data. R package rsmatch implements various forms matching time-varying observational studies help causal inference. short vignette aims provide enough information time-varying matching rsmatch package someone start data analysis. package implements two different approaches, recommend thorough read-corresponding paper understand methodology, potential pitfalls, crucial considerations. Balanced Risk Set Matching brsmatch(), based work Li, Propert, Rosenbaum (2001) Propensity Score Matching Time-Dependent Covariates coxph_match(), based work Lu (2005)","code":"library(rsmatch)"},{"path":"https://skent259.github.io/rsmatch/articles/risk-set-matching-with-rsmatch.html","id":"oasis-data","dir":"Articles","previous_headings":"","what":"OASIS data","title":"Risk Set Matching with rsmatch","text":"start showing data set can illustrate structure time-varying observational data set. Consider oasis data 51 patients Open Access Series Imaging Studies classified time point Alzheimer’s disease (AD) . data set modified “long” time-varying format following variables: subject_id - unique patient identifier visit - identifier time point, 1 4 time_of_ad - visit patient identified AD, NA patient yet identified AD m_f, educ,ses, age - Baseline patient characteristics gender, education level, socioeconomic status, age mr_delay, e_tiv, n_wbv, asf - Time-varying patient characteristics MR delay time, estimated total intracranial volume, Atlas scaling factor. Importantly, visits similar time difference . sets panel data structure. package help data sets subject visits happen irregularly continuously. data set illustrates standard causal inference elements time-varying matching, including Treatment: “treatment” used diagnosed AD, associated cognitive changes. NOTE: far standard concept treatment randomized study, interested effect diagnosis AD variables like mortality, health care cost, time spent loved ones. Control groups across time: visit \\(t\\), control group includes subjects without AD yet. example, control group visit 1 includes patients. control group visit 3 include OAS2_0002, OAS2_0009, OAS2_0010 , include OAS2_0007 (AD visit). Treatment groups across time: visit \\(t\\), treatment group includes subjects diagnosed AD visit. Subject OAS2_0007 treatment group visit 3, treatment groups visits 1, 2, 4. Matching (confounding) variables: Variables relate treatment (AD) chosen outcome. includes baseline characteristics time-varying characters. Unfortunately, data missing key aspect causal analysis, outcome measure treatment effect. Open-source longitudinal data sets somewhat scarce, illustrative example find including package. However, data fully demonstrates matching process. Applying set matches determine treatment effect , thankfully, typically straightforward process. goal match subjects similar gender, education level, socioeconomic status, age, MRI measurements, one moved cognitively normal state AD next period remained cognitively normal. similar groups, can hopefully isolate effect AD diagnosis outcome interest.","code":"data(oasis) head(oasis, n = 10) #>    subject_id visit time_of_ad m_f educ ses age mr_delay e_tiv n_wbv   asf #> 1   OAS2_0002     1         NA   M   12  -1  75        0  1678 0.736 1.046 #> 2   OAS2_0002     2         NA   M   12  -1  76      560  1738 0.713 1.010 #> 3   OAS2_0002     3         NA   M   12  -1  80     1895  1698 0.701 1.034 #> 4   OAS2_0007     1          3   M   16  -1  71        0  1357 0.748 1.293 #> 5   OAS2_0007     3          3   M   16  -1  73      518  1365 0.727 1.286 #> 6   OAS2_0007     4          3   M   16  -1  75     1281  1372 0.710 1.279 #> 7   OAS2_0009     1         NA   M   12   2  68        0  1457 0.806 1.205 #> 8   OAS2_0009     2         NA   M   12   2  69      576  1480 0.791 1.186 #> 9   OAS2_0010     1         NA   F   12   3  66        0  1447 0.769 1.213 #> 10  OAS2_0010     2         NA   F   12   3  68      854  1482 0.752 1.184"},{"path":"https://skent259.github.io/rsmatch/articles/risk-set-matching-with-rsmatch.html","id":"balanced-risk-set-matching","dir":"Articles","previous_headings":"","what":"Balanced Risk Set Matching","title":"Risk Set Matching with rsmatch","text":"Based work Li et al. (2001), brsmatch() function performs “Balanced Risk Set Matching”. Given data structure, finds matches based minimizing Mahalanobis distance covariates. balancing desired, model try minimize imbalance terms specified balancing covariates final pair output. treated individual matched one individual. Full details provided available reference. example, can find 5 matched pairs based covariates balance across gender age: output includes long-format data frame subject_id, pair_id, type indicate whether subject considered treatment (trt) group, control () group indicated time point. type variable helpful subjects got AD match either treatment control group depending visit matched . brsmatch() considers possibilities finding optimal match. output include subjects, NA value pair_id type unmatched subjects. Taking, example, first pair, OAS2_0014 OAS2_0124, know matching happened visit 2, visit, two subjects similar covariates. Full details brsmatch() function’s arguments can found ?brsmatch. One option used example allows exact matching constraints. can useful improve optimization speed large data sets.","code":"pairs <- brsmatch(   n_pairs = 5,   data = oasis,   id = \"subject_id\",    time = \"visit\",    trt_time = \"time_of_ad\",   covariates = c(\"m_f\", \"educ\", \"ses\", \"age\",                   \"mr_delay\", \"e_tiv\", \"n_wbv\", \"asf\"),   balance = TRUE,    balance_covariates = c(\"m_f\", \"age\") )  na.omit(pairs) #>    subject_id pair_id type #> 5   OAS2_0014       1  trt #> 15  OAS2_0043       2  all #> 22  OAS2_0079       2  trt #> 32  OAS2_0112       3  all #> 36  OAS2_0124       1  all #> 40  OAS2_0140       5  all #> 41  OAS2_0150       3  trt #> 43  OAS2_0160       4  trt #> 49  OAS2_0182       4  all #> 50  OAS2_0184       5  trt first_pair <- pairs[which(pairs$pair_id == 1), \"subject_id\"] oasis[which(oasis$subject_id %in% first_pair), ] #>    subject_id visit time_of_ad m_f educ ses age mr_delay e_tiv n_wbv   asf #> 11  OAS2_0014     1          2   M   16   3  76        0  1602 0.697 1.096 #> 12  OAS2_0014     2          2   M   16   3  77      504  1590 0.696 1.104 #> 80  OAS2_0124     1         NA   M   16   3  70        0  1463 0.749 1.200 #> 81  OAS2_0124     2         NA   M   16   3  71      472  1479 0.750 1.187"},{"path":"https://skent259.github.io/rsmatch/articles/risk-set-matching-with-rsmatch.html","id":"propensity-score-matching-with-time-dependent-covariates","dir":"Articles","previous_headings":"","what":"Propensity Score Matching with Time-Dependent Covariates","title":"Risk Set Matching with rsmatch","text":"Based work Lu (2005) “Propensity Score Matching Time-Dependent Covariates”, coxpsmatch() function matches subjects based time-dependent propensity scores Cox proportional hazards model. balancing desired, model try minimize imbalance terms specified balancing covariates final pair output. treated individual matched one individual. coxpsmatch() interface similar brsmatch() inputs outputs following example shows. However, coxpsmatch() can pair individuals desired allow (need) option separate balance variables. example, OAS2_0014 still matches OAS2_0124, matches differ.","code":"pairs <- coxpsmatch(   n_pairs = 5,   data = oasis,   id = \"subject_id\",    time = \"visit\",    trt_time = \"time_of_ad\",   covariates = c(\"m_f\", \"educ\", \"ses\", \"age\",                   \"mr_delay\", \"e_tiv\", \"n_wbv\", \"asf\") )  na.omit(pairs) #>    subject_id pair_id type #> 3   OAS2_0009       1  all #> 5   OAS2_0014       2  trt #> 16  OAS2_0046       1  trt #> 29  OAS2_0104       5  trt #> 32  OAS2_0112       5  all #> 34  OAS2_0114       4  trt #> 36  OAS2_0124       2  all #> 39  OAS2_0139       4  all #> 41  OAS2_0150       3  trt #> 49  OAS2_0182       3  all second_pair <- pairs[which(pairs$pair_id == 2), \"subject_id\"] oasis[which(oasis$subject_id %in% second_pair), ] #> # A tibble: 4 × 11 #>   subject_id visit time_of_ad m_f    educ ses     age mr_delay e_tiv n_wbv   asf #>   <chr>      <int>      <dbl> <chr> <int> <fct> <int>    <int> <int> <dbl> <dbl> #> 1 OAS2_0014      1          2 M        16 3        76        0  1602 0.697  1.10 #> 2 OAS2_0014      2          2 M        16 3        77      504  1590 0.696  1.10 #> 3 OAS2_0124      1         NA M        16 3        70        0  1463 0.749  1.2  #> 4 OAS2_0124      2         NA M        16 3        71      472  1479 0.75   1.19"},{"path":"https://skent259.github.io/rsmatch/articles/risk-set-matching-with-rsmatch.html","id":"going-further","dir":"Articles","previous_headings":"","what":"Going further","title":"Risk Set Matching with rsmatch","text":"quick vignette provides primer get started time-varying matching methods. necessary concepts covered include: select variables include matching, balancing, exact matches visualize quantify whether matches good use matches compare outcome (e.g. binary, continuous, survival endpoints) Sensitivity analysis measure size unmeasured confounder change treatment-effect conclusions Whether treatment occurs specified visit, two visits (see time_lag option functions)","code":""},{"path":"https://skent259.github.io/rsmatch/articles/risk-set-matching-with-rsmatch.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Risk Set Matching with rsmatch","text":"Li, Yunfei Paul, Kathleen J Propert, Paul R Rosenbaum. 2001. “Balanced Risk Set Matching.” Journal American Statistical Association 96 (455): 870–82. Lu, Bo. 2005. “Propensity Score Matching Time-Dependent Covariates.” Biometrics 61 (3): 721–28.","code":""},{"path":"https://skent259.github.io/rsmatch/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sean Kent. Author, maintainer, copyright holder. Mitchell Paukner. Author, copyright holder.","code":""},{"path":"https://skent259.github.io/rsmatch/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kent S, Paukner M (2024). rsmatch: Matching Methods Time-varying Observational Studies. R package version 0.2.1, https://cran.r-project.org/package=rsmatch.","code":"@Manual{,   title = {rsmatch: Matching Methods for Time-varying Observational Studies},   author = {Sean Kent and Mitchell Paukner},   year = {2024},   note = {R package version 0.2.1},   url = {https://cran.r-project.org/package=rsmatch}, }"},{"path":"https://skent259.github.io/rsmatch/index.html","id":"rsmatch","dir":"","previous_headings":"","what":"Matching Methods for Time-Varying Observational Studies","title":"Matching Methods for Time-Varying Observational Studies","text":"R package rsmatch implements various forms matching time-varying observational studies help causal inference. package utilized idea matching series risk sets consisting subjects still “risk” treatment. Subjects set treated next time point can matched controls treated avoid bias estimating treatment effects. Currently, methods : Balanced Risk Set Matching brsmatch(), based work Li, Propert, Rosenbaum (2001) Propensity Score Matching Time-Dependent Covariates coxpsmatch(), based work Lu (2005)","code":""},{"path":"https://skent259.github.io/rsmatch/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Matching Methods for Time-Varying Observational Studies","text":"can install released version rsmatch CRAN : Alternatively, can install development version GitHub :","code":"install.packages(\"rsmatch\") # install.packages(\"devtools\") devtools::install_github(\"skent259/rsmatch\")"},{"path":"https://skent259.github.io/rsmatch/index.html","id":"example-usage","dir":"","previous_headings":"","what":"Example usage","title":"Matching Methods for Time-Varying Observational Studies","text":"Consider oasis data consists 51 patients Open Access Series Imaging Studies classified time point Alzheimer’s disease (AD) . can match subjects similar gender, education level, socioeconomic status, age, MRI measurements, one moved cognitively normal state AD next time period remained cognitively normal. 10 subjects form 5 best pairs according balanced risk set matching, consider pairs close similar covariates try find balance gender age. can see first pair match closely covariates: can also find matches using Propensity Score Matching Time-Dependent Covariates Lu (2005) picks different first pair, also close covariates.","code":"library(rsmatch) data(oasis)  pairs <- brsmatch(   n_pairs = 5,   data = oasis,   id = \"subject_id\", time = \"visit\", trt_time = \"time_of_ad\",   balance = TRUE, balance_covariates = c(\"m_f\", \"age\") )  na.omit(pairs) #>    subject_id pair_id type #> 5   OAS2_0014       1  trt #> 15  OAS2_0043       2  all #> 22  OAS2_0079       2  trt #> 32  OAS2_0112       3  all #> 36  OAS2_0124       1  all #> 40  OAS2_0140       5  all #> 41  OAS2_0150       3  trt #> 43  OAS2_0160       4  trt #> 49  OAS2_0182       4  all #> 50  OAS2_0184       5  trt first_pair <- pairs[which(pairs$pair_id == 1), \"subject_id\"] oasis[which(oasis$subject_id %in% first_pair), ] #>    subject_id visit time_of_ad m_f educ ses age mr_delay e_tiv n_wbv   asf #> 11  OAS2_0014     1          2   M   16   3  76        0  1602 0.697 1.096 #> 12  OAS2_0014     2          2   M   16   3  77      504  1590 0.696 1.104 #> 80  OAS2_0124     1         NA   M   16   3  70        0  1463 0.749 1.200 #> 81  OAS2_0124     2         NA   M   16   3  71      472  1479 0.750 1.187 pairs <- coxpsmatch(   n_pairs = 5,   data = oasis,   id = \"subject_id\", time = \"visit\", trt_time = \"time_of_ad\" )  first_pair <- pairs[which(pairs$pair_id == 1), \"subject_id\"] oasis[which(oasis$subject_id %in% first_pair), ] #> # A tibble: 4 × 11 #>   subject_id visit time_of_ad m_f    educ ses     age mr_delay e_tiv n_wbv   asf #>   <chr>      <int>      <dbl> <chr> <int> <fct> <int>    <int> <int> <dbl> <dbl> #> 1 OAS2_0009      1         NA M        12 2        68        0  1457 0.806  1.20 #> 2 OAS2_0009      2         NA M        12 2        69      576  1480 0.791  1.19 #> 3 OAS2_0046      1          2 F        15 2        83        0  1476 0.75   1.19 #> 4 OAS2_0046      2          2 F        15 2        85      575  1483 0.748  1.18"},{"path":"https://skent259.github.io/rsmatch/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Matching Methods for Time-Varying Observational Studies","text":"cite package ‘rsmatch’ publications use: Kent S, Paukner M (2024). rsmatch: Matching Methods Time-varying Observational Studies. R package version 0.2.1, https://cran.r-project.org/package=rsmatch. BibTeX entry LaTeX users ","code":"@Manual{,   title = {rsmatch: Matching Methods for Time-varying Observational Studies},   author = {Sean Kent and Mitchell Paukner},   year = {2024},   note = {R package version 0.2.1},   url = {https://cran.r-project.org/package=rsmatch}, }"},{"path":"https://skent259.github.io/rsmatch/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Matching Methods for Time-Varying Observational Studies","text":"Li, Yunfei Paul, Kathleen J Propert, Paul R Rosenbaum. 2001. “Balanced Risk Set Matching.” Journal American Statistical Association 96 (455): 870–82. Lu, Bo. 2005. “Propensity Score Matching Time-Dependent Covariates.” Biometrics 61 (3): 721–28.","code":""},{"path":"https://skent259.github.io/rsmatch/reference/brsmatch.html","id":null,"dir":"Reference","previous_headings":"","what":"Balanced Risk Set Matching — brsmatch","title":"Balanced Risk Set Matching — brsmatch","text":"Perform balanced risk set matching described Li et al. (2001) \"Balanced Risk Set Matching\".  Given longitudinal data frame covariate information, along treatment time, build MIP problem matches treated individuals treated yet (never treated) based minimizing Mahalanobis distance covariates. balancing desired, model try minimize imbalance terms specified balancing covariates final pair output.  treated individual matched one individual.","code":""},{"path":"https://skent259.github.io/rsmatch/reference/brsmatch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Balanced Risk Set Matching — brsmatch","text":"","code":"brsmatch(   n_pairs,   data,   id = \"id\",   time = \"time\",   trt_time = \"trt_time\",   covariates = NULL,   balance = TRUE,   balance_covariates = NULL,   exact_match = NULL,   options = list(time_lag = FALSE, verbose = FALSE, optimizer = c(\"glpk\", \"gurobi\")) )"},{"path":"https://skent259.github.io/rsmatch/reference/brsmatch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Balanced Risk Set Matching — brsmatch","text":"n_pairs number pairs desired matching. data data.frame similar containing columns matching id, time, trt_time arguments, covariates. data frame expected tidy, long format, id, trt_time, variables may repeated different values time. data.frame unique id time. id character specifying id column name (default 'id'). time character specifying time column name (default 'time'). trt_time character specifying treatment time column name (default 'trt_time'). covariates character vector specifying covariates use matching (default NULL). NULL, default columns except named id, time, trt_time arguments. balance logical value indicating whether include balancing constraints matching process. balance_covariates character vector specifying covariates use balancing (default NULL).  NULL, default columns except named id, time, trt_time arguments. exact_match vector optional covariates perform exact matching . NULL, exact matching done. options list additional parameters following components: time_lag logical value indicating whether matches made time period preceding treatment.  can help avoid confounding treatment happens two periods. verbose logical value indicating whether print information console potentially long matching process. optimizer optimizer use (default 'glpk'). option 'gurobi' requires external license package, offers speed improvements.","code":""},{"path":"https://skent259.github.io/rsmatch/reference/brsmatch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Balanced Risk Set Matching — brsmatch","text":"data frame containing pair information.  data frame columns id, pair_id, type. id matches input parameter contain ids input data frame.  pair_id refers id computed pairs; NA values indicate unmatched individuals.  type indicates whether individual pair considered treatment (\"trt\") control (\"\") pair.","code":""},{"path":"https://skent259.github.io/rsmatch/reference/brsmatch.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Balanced Risk Set Matching — brsmatch","text":"Note using exact matching, n_pairs split roughly proportion number treated subjects exact matching group. like control n_pairs exactly, suggest manually performing exact matching, example split(), selecting n_pairs group interactively.","code":""},{"path":"https://skent259.github.io/rsmatch/reference/brsmatch.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Balanced Risk Set Matching — brsmatch","text":"Li, Yunfei Paul, Kathleen J Propert, Paul R Rosenbaum. 2001. \"Balanced Risk Set Matching.\" Journal American Statistical Association 96 (455): 870-82. doi:10.1198/016214501753208573","code":""},{"path":"https://skent259.github.io/rsmatch/reference/brsmatch.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Balanced Risk Set Matching — brsmatch","text":"Sean Kent","code":""},{"path":"https://skent259.github.io/rsmatch/reference/brsmatch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Balanced Risk Set Matching — brsmatch","text":"","code":"if (requireNamespace(\"Rglpk\", quietly = TRUE)) {   library(dplyr, quietly = TRUE)   pairs <- brsmatch(     n_pairs = 13,     data = oasis,     id = \"subject_id\",     time = \"visit\",     trt_time = \"time_of_ad\",     balance = FALSE   )    na.omit(pairs)    # evaluate the first match   first_match <- pairs$subject_id[which(pairs$pair_id == 1)]   oasis %>% dplyr::filter(subject_id %in% first_match) } #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union #> # A tibble: 6 × 11 #>   subject_id visit time_of_ad m_f    educ ses     age mr_delay e_tiv n_wbv   asf #>   <chr>      <int>      <dbl> <chr> <int> <fct> <int>    <int> <int> <dbl> <dbl> #> 1 OAS2_0007      1          3 M        16 -1       71        0  1357 0.748  1.29 #> 2 OAS2_0007      3          3 M        16 -1       73      518  1365 0.727  1.29 #> 3 OAS2_0007      4          3 M        16 -1       75     1281  1372 0.71   1.28 #> 4 OAS2_0058      1         NA M        14 3        78        0  1315 0.707  1.34 #> 5 OAS2_0058      2         NA M        14 3        79      212  1308 0.706  1.34 #> 6 OAS2_0058      3         NA M        14 3        80      764  1324 0.695  1.33"},{"path":"https://skent259.github.io/rsmatch/reference/coxpsmatch.html","id":null,"dir":"Reference","previous_headings":"","what":"Propensity Score Matching with Time-Dependent Covariates — coxpsmatch","title":"Propensity Score Matching with Time-Dependent Covariates — coxpsmatch","text":"Perform propensity score matching described Lu (2005) \"Propensity Score Matching Time-Dependent Covariates\".  Given longitudinal data frame covariate information, along treatment time, match treated individuals treated yet (never treated) based time-dependent propensity scores Cox proportional hazards model. treated individual matched one individual, unless number pairs specified.","code":""},{"path":"https://skent259.github.io/rsmatch/reference/coxpsmatch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Propensity Score Matching with Time-Dependent Covariates — coxpsmatch","text":"","code":"coxpsmatch(   n_pairs = 10^10,   data,   id = \"id\",   time = \"time\",   trt_time = \"trt_time\",   covariates = NULL,   exact_match = NULL,   options = list(time_lag = FALSE) )"},{"path":"https://skent259.github.io/rsmatch/reference/coxpsmatch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Propensity Score Matching with Time-Dependent Covariates — coxpsmatch","text":"n_pairs number pairs desired matching. data data.frame similar containing columns matching id, time, trt_time arguments, covariates. data frame expected tidy, long format, id, trt_time, variables may repeated different values time. data.frame unique id time. id character specifying id column name (default 'id'). time character specifying time column name (default 'time'). trt_time character specifying treatment time column name (default 'trt_time'). covariates character vector specifying covariates use matching (default NULL). NULL, default columns except named id, time, trt_time arguments. exact_match vector optional covariates perform exact matching . NULL, exact matching done. options list additional parameters following components: time_lag logical value indicating whether matches made time period preceding treatment.  can help avoid confounding treatment happens two periods.","code":""},{"path":"https://skent259.github.io/rsmatch/reference/coxpsmatch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Propensity Score Matching with Time-Dependent Covariates — coxpsmatch","text":"data frame containing pair information.  data frame columns id, pair_id, type. id matches input parameter contain ids input data frame.  pair_id refers id computed pairs; NA values indicate unmatched individuals.  type indicates whether individual pair considered treatment (\"trt\") control (\"\") pair.","code":""},{"path":"https://skent259.github.io/rsmatch/reference/coxpsmatch.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Propensity Score Matching with Time-Dependent Covariates — coxpsmatch","text":"Lu, Bo. 2005. \"Propensity Score Matching Time-Dependent Covariates.\" Biometrics 61 (3): 721-28. doi:10.1111/j.1541-0420.2005.00356.x","code":""},{"path":"https://skent259.github.io/rsmatch/reference/coxpsmatch.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Propensity Score Matching with Time-Dependent Covariates — coxpsmatch","text":"Mitchell Paukner","code":""},{"path":"https://skent259.github.io/rsmatch/reference/coxpsmatch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Propensity Score Matching with Time-Dependent Covariates — coxpsmatch","text":"","code":"if (requireNamespace(\"survival\", quietly = TRUE) &   requireNamespace(\"nbpMatching\", quietly = TRUE)) {   library(dplyr, quietly = TRUE)   pairs <- coxpsmatch(     n_pairs = 13,     data = oasis,     id = \"subject_id\",     time = \"visit\",     trt_time = \"time_of_ad\"   )    na.omit(pairs)    # evaluate the first match   first_match <- pairs$subject_id[which(pairs$pair_id == 1)]   oasis %>% dplyr::filter(subject_id %in% first_match) } #> Warning: Loglik converged before variable  7 ; beta may be infinite.  #> Warning: There must be an even number of elements #> Adding a ghost value #> # A tibble: 4 × 11 #>   subject_id visit time_of_ad m_f    educ ses     age mr_delay e_tiv n_wbv   asf #>   <chr>      <int>      <dbl> <chr> <int> <fct> <int>    <int> <int> <dbl> <dbl> #> 1 OAS2_0009      1         NA M        12 2        68        0  1457 0.806  1.20 #> 2 OAS2_0009      2         NA M        12 2        69      576  1480 0.791  1.19 #> 3 OAS2_0046      1          2 F        15 2        83        0  1476 0.75   1.19 #> 4 OAS2_0046      2          2 F        15 2        85      575  1483 0.748  1.18"},{"path":"https://skent259.github.io/rsmatch/reference/oasis.html","id":null,"dir":"Reference","previous_headings":"","what":"Longitudinal MRI data in nondemented and demented older adults. — oasis","title":"Longitudinal MRI data in nondemented and demented older adults. — oasis","text":"dataset containing baseline time-varying information relating Alzheimer's disease (AD) based Open Access Series Imaging Studies (OASIS). set consists longitudinal collection 51 subjects aged 62 92. subject scanned two visits, separated least one year total 115 imaging sessions. subject, 3 4 individual T1-weighted MRI scans obtained single scan sessions included.","code":""},{"path":"https://skent259.github.io/rsmatch/reference/oasis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Longitudinal MRI data in nondemented and demented older adults. — oasis","text":"","code":"oasis"},{"path":"https://skent259.github.io/rsmatch/reference/oasis.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Longitudinal MRI data in nondemented and demented older adults. — oasis","text":"data frame 115 rows 11 variables: subject_id unique subject identifier visit visit order time_of_ad visit patient first AD diagnosis m_f male female educ years education ses socioeconomic status (-1 missing) age age patient visit mr_delay MR delay time (contrast) e_tiv estimated total intracranial volume n_wbv normalized whole brain volume asf atlas scaling factor","code":""},{"path":"https://skent259.github.io/rsmatch/reference/oasis.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Longitudinal MRI data in nondemented and demented older adults. — oasis","text":"https://www.kaggle.com/jboysen/mri--alzheimers?select=oasis_longitudinal.csv","code":""},{"path":"https://skent259.github.io/rsmatch/reference/oasis.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Longitudinal MRI data in nondemented and demented older adults. — oasis","text":"data originally hosted Kaggle repository: https://www.kaggle.com/jboysen/mri--alzheimers?select=oasis_longitudinal.csv. harmonized example analysis risk set matching based reduced sample including patients go mild cognitive impairment (MCI) AD patients MCI throughout.","code":""},{"path":"https://skent259.github.io/rsmatch/news/index.html","id":"rsmatch-021","dir":"Changelog","previous_headings":"","what":"rsmatch 0.2.1","title":"rsmatch 0.2.1","text":"CRAN release: 2024-02-20 brsmatch() coxpsmatch() now handle NA rows via removing (#16) Fix brsmatch() iteratively reduce number pairs many specified (#11)","code":""},{"path":"https://skent259.github.io/rsmatch/news/index.html","id":"rsmatch-020","dir":"Changelog","previous_headings":"","what":"rsmatch 0.2.0","title":"rsmatch 0.2.0","text":"CRAN release: 2023-06-29 Initial CRAN submission. Also changes input arguments Add exact matching functionality Changes input arguments Add exact matching functionality Add oasis data simple examples matching Add README.md file documentation internal improvements","code":""},{"path":"https://skent259.github.io/rsmatch/news/index.html","id":"rsmatch-010","dir":"Changelog","previous_headings":"","what":"rsmatch 0.1.0","title":"rsmatch 0.1.0","text":"Initial package release, including two main functions brsmatch() implements Balanced Risk Set Matching based work Li et al. (2001) coxpsmatch() implements Propensity Score Matching Time-Dependent Covariates based work Lu (2005)","code":""}]
